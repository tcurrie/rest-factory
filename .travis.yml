language: java
jdk: oraclejdk8
before_install:
- mvn versions:set -DnewVersion=$VERSION
script: mvn verify jacoco:report coveralls:report
after_success:
- git clone -b travis `git config --get remote.origin.url` $DEPLOY
- $DEPLOY/publish.sh
env:
  global:
  - VERSION=0.1.$TRAVIS_BUILD_NUMBER
  - DEPLOY="target/travis"
  - secure: kFT2MZa8jPlN+Fnu1B8lrcgdDX7FGspNxAUbsSsccBz1Mx5kgh6xkIVZiBvumSYxgJZUo1A5SVrIOQtpFjJVErjIdhDkDzNKo0Fn8OUhHuR/AW3rSLw9nk5JGYukRafLlGBlkcqthVR+6Cu4RAQSS39ybjiUZ8jIiIvmzyD/+syvkLZ2KDvtRqHiyIS0SHiXfK/69TcRbnymrYU7A9BpkdYXWNEhfoDzuisKFTWMHb0R6Fi+db1f2vFeV+/lP2hwee7vMrqV+yF/Y+Gkf7uXObfaTgfV1grc7wniL4uf9N++3yWjMK8e3CpO4VFOC7QQm43QxMsEEdDZCva8koROVBSi6X67hGajTJlSTF9vgUPzxo5rdw8sYlN5BSQookrLUddy7UUfG1XxB6zc+u7Ur78supQzfGy8FDDEmBQtA/7921DGcboqftA+irmyvRrhLjuowsJTqjEYXZiWiy4VpBP6QtBePbdELIbcOs7MVoVp7HMU9+RzK7EvkJo596FlPu5QNoqjMD56jjnGFymT8idM1VBJSkEMIuN4n7wLgSdOLlznpRi74wT6JgFSGY7GhEo0J2H7XZk0jOAEh0pyHkUpuPOtbTpTf2lRyQKnh40O3gJIEwwuGKRb3A3nHONrRiHeitjlwD9D1Fg2XOx6LDMieyNFdYeemIeBG8hIw7U=
  - secure: jSB7Uy0C3yUVuW2ox0JbcE+xlSHK0YFTEpiHE1vvLg/6NM3GJVhbZvBTP/455b4fDAZh7e1RAA1TW6W79epBImM+7ZBGm8ssXuhiJC3cuNaYASCVJqWelJaNGVQ7QDI1rwlfvAsyyEhP9cAEqFrnbxFbXr6qj2+2FHjw4VB1a2YIPTR/zGKZm0RberTjjcjq7jCQPyozav0qEfprzv5BAlQDXFkoyuhsyWSRRuqAd4DNVSucpaYVytDJh8R+8mpkkrM3wcA7eY26ZlKmqad2g+oZuz2C/xtL3DHh4rI0nvm8Duiy5qhmuNSlCYjTuMArkjiEJJpo/yJ0+t151rJymXtwMrMrhimwQadPHLJ//vymgCSg7XyS8clfSbeW805cpkn+PzvT+M9U3V3HOEmqubAoeILHC9uzweUehWhwqRUliAywcY/JgvvEzXdO3q2tYFFIm1lNmjvm6YtCwjxEZrxWODjZnxEhMew5lpYFJFd/fSBGbHqIgSVBvivnYv+h8Hjt0vNqDrh66G7ynJc4XtEMdSFJotaZNR6/PYlPkkvzlGq8KzH27au2FlifUyJZ1azwa0F40fvyg2duYjFD4eUkuEx8ruoWnKjr7fjJ0Ajd8I/Na0nbAFAjL3FhIc3v33HvJMPgcUowD5sZiwIAqSyaKFqK12UPaR4V5QASeWs=
  - secure: lzWdqNt5XnViEsfcqQvzXLTPOrnyu0EYMJPOZxbYt6IHWNR5d8N3SnhASrvrl8wwv0Z7VUlSMxV1MViMkHOv8RBLVwMCLo07QMY8oq59R+2HUaVJKcOblgslTh+rcAZq3JoguY8284m3aGx3XURHqkFoqP/I30Q2EPcK+IncRWzLoEjA9nUeN5Y28MzVgekBJ0ctk7DqwBDFAS7NgdawFDV5PycZuiGc3TO1xZzYWOhMDV66zU3hZHXXo6HF1Ky+GxYH3czlxzww+7wWxnuMQ/83gfgk0gTcmGJQn3Izq3PX9+hXORp5HRxAhQVUmoWy83khOLtF9MM1JECepiSJNvV4FYzUTjteXJ33S5L7a01QPrRHMZ3/cqcA66M5kmFmWu1JLIWXc38t8dqUR/8L21YUHtnga/qy0QwBE0xjZpc3lqZJhTJyOjKr+jUlFMsrZE4+mcva9xDTgvxfBY3oq2ywREmqGPrcRl/qmTCifr0bcr7ZiUH9S/5JU46Cf9FbaJSxsE7kg7GyNNw6TyaZF7yGjl0dQ4hrCFPt/QSQ7Xy2I1waB+Or+OXsUZgrS2Wug428RMIswm5ayE9L6g69rTRqOVTGHT6RVLqzv0IkG0B7BvA4euaPepexglcXcaYgsuwkX9cj28fFVBmgGX9lRxWFV6jYnh3vuJLM0AlKf1Y=
  - secure: YBDmIu2nGSn2mYcqOuO4WJIWEJ7M1FftboKo/NEIkCIeQE0MSc26veRVkvncLC3oJqAMuRP+OWCk26FyTR+OvRtCLh/JiqYYIGYp0KBeKt0hlbs5t1uHIlGqOx1aVMIu/N+5mavjbYjUvMtZQpDcVjxk2SS3roiupWpUAd4i5ZY6rXNY7QptvwDfM+WKw//FUQe98LOg6ecFLnnJgv9zf8ZD9p4YCV0ywxvdVgevmzQAbkNyHwQsQi3oro54GwK7G6EeXWSwuysm/nAknVgfS5DbMpza6nHLSumOaokaPQ1yheGRu8UF6omk3JQyPqOrllD6HEOHgzH29LUtWjcgCYV8CUvQ/FVvj50JukpyGmwLoZ/eNWrpqhoWAYRpuraCuDNO2hteg3/iATp4u+h0iGy1tm4SC8KsDO3TCiGHYthvvR7m3UmzxNopVxLUOei7cTp7JmhZlm5yaQnow6DzMA1Ev8hx54BavaGg5AIOCO3C+4vnaLlWyT8pT8W+0nWawD2255zJDuNpQLAhg0ENLLtHfPECrcOa/DmSIz2dClKw7JlEkYr7Zg7NVIPRb0A2v173IVqp6GSbA94mia5MOoDofpDX3nHbWLecp6p48Bi0KWr2Oyer7OYRmpn7j2YDgm04fkQDpwMx8oGj/X4yKlj3P/9KQa9hPlrY09fkCwU=
  - secure: jtvEeJmgh3mlV7wEdxldGDLOFZq/u4sSsSvZlIWAWV1x/7qzysdElKSGN2rhlu0UTv6hFU7Pal++CYaXVS1UNOBBw8xP2HMy7QfCckyVVaHw8yiLaO0TiOwQF/C1bOllOh6FpmYBz4ftvL8djtko/d7GGcOXFwuRMHG3qp3xeWzAqv4fYAlFeJl/ts0ZjlfFoQNeWmEr+utakud+k42halvE7N9NMtLGY/00JbRBQgyWn5anrQmvGI5zid64ORNFmHxxFUiSnq6RY/cxiRY6OgKojsqpyvA72euIj6ZkVWWZu+gj2MVLXivCmunDBVQCubDeQMjF0cTuPNPrGVyLdgwL/OzyT9FLRmnn9rFVlRWxP6sIjVnihByAIZPJx83SgesFmSauY6qcMZtw3OFLPGEA5NkE5AccZ5YTeLXjiKEldQokO59nFScBYN2MHGJtnQcujeDSAVwyrDbK2RWx75+S11UzPMFYtackdx6/X8yOEsJebaTU5Y224tArv+CXAObB5Ja3mb68OHKh7nk2apFhD5XhGcR0Wl/z5eefyu6lUC1qDZgucN/zKZMXd9t1PYwGMuDw/EiHM1+AwKkM58ZYUO3hoewr8Wn7XIFgn3abC4VUzfnMYfEE+5ioC2Hw30E/t6ZuwN8pv19ZzI0JtxABcnHR/Y15o2FC5EQLy2c=
  - secure: Mo/JlwRSZJJ9WBHXhaIlobW2b8PBcWfy5heMfHWHxF2t65/OBwFyj48BH79/DErNmGeHATmMjqDjZNYTND+O0YmIs6b7PNwZ35B74PpnfJ0SzO3jiE5K/B/UTQJpNzxv4K69JmArsfxhqVngidd6XPteRw15L067K0u46G8KUd+QMuSj+DCg+ebe0xspgGWMooap7NlgbC4y0k7VkZYasazIEuWy++bx2y52pYJZ2N+ve8yQXEZ2RXU1UxxpSHSkDiR4uqK2WLi72B9NpJluJi8TJ5Qz2Y94ATbrCwYEouFjl1Li5Pk0V4L7ibn6C0HsfrgWp0thPdBLXhoH3Bx5W+Q0KSEBcKD0iTep5gBIxOoFQa9vI3s7hz/Y+GbnSEQXVumXYITigqOmEUlhAuPDkjTVIJpJPn6NNK9y79NuFyBauD6K9pU2mYh/vQIx89mjIrLWs8WmYA+eKuHGof2G4t0uhfML+8HRgDyT6K/0JEMpoqx4b/JJYMBJawq/PAYUH6+dC3ix6W0HN9WPznLWZCN9/ff7OlOcEvSD/Bq1FIsN6ER4syhsBY9PQG9lPnzKqUfFXBfGAUhob60JdYJ5zGAjSWvQPicj6oE7lPdUZAc0qDOj+rzG2DquDfDXRTpUOf2LHZistZxl1M3RpTGH1OYuGgdUYYDC7aYcd7zGrKs=
branches:
  except:
    - /^*-v[0-9]/
